Задача - хранить ордербуки на сервере, но не грузить в БД. Нужно придумать несколько способов и замерить из скорость.

Запрос из БД в среднем >250мс.

Способы:
1) В csv файле (Это 0.5мс, в 500 раз меньше). Время и так малое, да плюс удобство. Не имеет смысла рассматривать другие варианты.
2) В обычном текстовом файле
3) Формульный вид

Далее встаёт вопрос: какую выбрать концепцию
1 программа - n символов или 1 программа - 1 символ?
Мысли:
-) Если каждой паре будет соответсвовать отдельная программа, то будет тяжело масштабировать. 
+) Легко работать. Программа имеет одну определённую цель, она проще и поэтому возможно будет оптимизированнее.
+-) Возможно Джулия будет больше жрать если пары будут разнесёнными.
+-) Для того чтобы за всем следить, надо будет прокачить сисадминские навыки.
+) Более управляемая. Если одна пара нагруженная, то можно включить программу два раза.
+) Будет легко переносиь проги в другие проекты

Принял решение использование концепции 1 программа - 1 пара. Тогда каждая программа будет обнвлять свой файл. Если будет общий файл, то программы будут перезатирать обновления др. др.

Запись ордербука в файл занимает 50мс.
Запись ордербука в файл занимает 20мс на одну строчку.

Я написал эту программу. Теперь замерю среднее отставание ордербука. Программа будет каждые 0.05 сек открывать файл и смотреть на сколько отстало время ордербука.

Я написал и эту программу. Результатом стали 3 гистограммы распределения задержек ордербуков. Также я выделил линию разделяющую гистограмму наполовину. Я планирую сделать условия по этим линиям. Например с BNBBTC мы будем работать, только если задержка не более 90мс, с другими так же. В итоге, вероятность того, что в определённый момент все ордербуки удовлетворяют критерию времени составляет 1/8. Мало, но это компенсируется частотой проверок.

